Linaro Ubuntu images are made up of two components. The "Hardware Pack":https://wiki.linaro.org/HardwarePacks, which contains the kernel, boot loader and/or Device Tree blob and a Root file system (RootFS) of your choice to generate an image.

The root file systems are described "here":http://releases.linaro.org/12.10/ubuntu/precise-images where you can also download them.

Linaro provides two methods for installing Linaro binary builds:

# Using a pre-built image, which you can download
# Assembling your own image using provided components

h2. Pre-Installation Steps

Before any installation begins, it is important that you ensure you Versatile Express board has the latest firmware and boot loader installed. Please check the "Firmware Update" tab on this page for the latest updates and installation instructions.

h2. Using pre-built image

h3. Prerequisites

* Ubuntu 12.04 64 bit or newer on your desktop PC ("www.ubuntu.com":http://www.ubuntu.com)
* 4GB SD card or larger
* Latest firmware installed onto the Versatile Express. Please see "Firmware Update" tab
* This release pre-built image (vexpress-precise_ubuntu-desktop_20121021-377.img.gz), which you can downloaded from the above list of artifacts or from "here":http://releases.linaro.org/12.10/ubuntu/vexpress/vexpress-precise_ubuntu-desktop_20121021-377.img.gz

h3. Installation Steps

* Unzip the downloaded pre-built image
* Insert SD card into your PC and note the assigned @'/dev/sdX'@

bc. dmesg
SDCARD=/dev/sdX # sdcard found from dmesg above
zcat vexpress-precise_ubuntu-desktop_20121021-377.img.gz | sudo dd bs=64k of=$SDCARD

When the image is created, skip down to the section "Copy the missing DTB files to the boot partition"

*Note:* Windows users may use the "Image Writer for Windows.":https://launchpad.net/win32-image-writer/+download

<hr>

h2. Building a custom image using pre-built components

Sometimes, you may wish to build your own custom image for a Versatile Express. Perhaps you wish to use a more recent snapshot of the "hardware pack":https://wiki.linaro.org/HardwarePacks for Ubuntu or take the latest Android build. Whatever the reason, you will want to use the "Linaro Image Tools":https://wiki.linaro.org/Linaro-Image-Tools to create a custom image.

Using components to generate the image will yield the same functionality found in the pre-built image of the same release.

h3. Prerequisites

* Ubuntu 12.04 64 bit or newer on your desktop PC ("www.ubuntu.com":http://www.ubuntu.com)
* Download Artifacts from above or use the following command in your terminal

*Note:* The instructions above attempt to build an Ubuntu Desktop image. If you wish to create a small image, you can replace the ubuntu desktop tar ball with another root file system, which you can download from "here":http://releases.linaro.org/12.10/ubuntu/precise-images
bc. wget http://releases.linaro.org/12.10/ubuntu/vexpress/hwpack_linaro-vexpress_20121021-377_armhf_supported.tar.gz
wget http://releases.linaro.org/12.10/ubuntu/vexpress/linaro-precise-ubuntu-desktop-20121021-492.tar.gz

* Get "Linaro image tools":https://wiki.linaro.org/Linaro-Image-Tools. There are multiple ways you can get the latest Linaro Image Tools:

** Method 1: Install them from the Linaro Image Tools "PPA":https://launchpad.net/~linaro-maintainers/+archive/tools

bc. sudo add-apt-repository ppa:linaro-maintainers/tools
sudo apt-get update
sudo apt-get install linaro-image-tools

** Method 2: Building from source </LI>

bc. wget http://releases.linaro.org/12.10/components/platform/linaro-image-tools/linaro-image-tools-2012.10.tar.gz

* Insert SD card and note the assigned @'/dev/sdX'@ or @'/dev/mmcblk0'@

bc. dmesg | less

Look for a line that looks like the following at the end of the log

@[288582.790722] sdc: sdc1 sdc2 sdc3 sdc4 <sdc5 sdc6 >@

Or, if your machine uses '/dev/mmcblkX', you may see a line line this:

@[10770.938042]  mmcblk0: p1 p2 p3 p4 < p5 p6 >@

*WARNING:* In the next step, make sure you use /dev/"whatever you see above". *You can erase your hard drive* with the wrong parameter.

* Create media

bc. sudo linaro-media-create --mmc /dev/sdX --dev vexpress --hwpack hwpack_linaro-vexpress_20121021-377_armhf_supported.tar.gz --binary linaro-precise-ubuntu-desktop-20121021-492.tar.gz


h2. Copy the missing DTB files to the boot partition

The DTB files for 12.10 are not on the boot parition of the created media.  You should copy these files from the rootfs parition.

First, insert or mount the SD card created in the above steps.  It's often easiest to safely unmount the card, eject it and re-insert the card in order to get your PC to mount the partitions.

bc. cp /media/rootfs/lib/firmware/3.*-linaro-vexpress/device-tree/vexpress-v2p-ca5s.dtb /media/boot/v2p-ca5s.dtb
cp /media/rootfs/lib/firmware/3.*-linaro-vexpress/device-tree/vexpress-v2p-ca9.dtb /media/boot/v2p-ca9.dtb
cp /media/rootfs/lib/firmware/3.*-linaro-vexpress/device-tree/vexpress-v2p-ca15-tc1.dtb /media/boot/v2p-ca15-tc1.dtb
cp /media/rootfs/lib/firmware/3.*-linaro-vexpress/device-tree/vexpress-v2p-ca15-tc2.dtb /media/boot/v2p-ca15-tc2.dtb

After copying, safely unmount the SD card.

h2. Booting the image

After the media create tool has finished executing, remove the SD card from your PC and insert it into the Versatile Express board.

Before you can boot the image you will need to install the UEFI boot loader into NOR flash and update the Versatile MMC card configuration files. The instructions on the Firmware Update tab provide information on how to do this and how to configure UEFI to specify the SD card as a boot device.

